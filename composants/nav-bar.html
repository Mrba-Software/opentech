<!-- Navigation Bar Component -->
<!-- Usage: Include this file and set data-active-page attribute on the body tag -->
<!-- Example: <body data-active-page="home"> for index.html -->
<!-- Pages: home, about, services, projects, contact -->

<nav class="fixed top-0 w-full bg-white/95 backdrop-blur-md shadow-sm z-50 transition-all duration-300" id="navbar">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex-shrink-0">
          <a href="index.html" class="flex items-center space-x-2 group">
              <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center transform group-hover:scale-105 transition-transform duration-200">
                  <i class="fas fa-code text-white text-sm sm:text-lg"></i>
              </div>
              <span class="text-lg sm:text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
                  Opentech
              </span>
          </a>
      </div>
      
      <!-- Desktop Navigation -->
      <div class="hidden lg:block">
        <div class="ml-10 flex items-baseline space-x-6 xl:space-x-8">
          <a href="index.html" 
             class="nav-link nav-home text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-200"
             data-page="home">Accueil</a>
          <a href="about.html" 
             class="nav-link nav-about text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-200"
             data-page="about">√Ä propos</a>
          <a href="services.html" 
             class="nav-link nav-services text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-200"
             data-page="services">Services</a>
          <a href="projects.html" 
             class="nav-link nav-projects text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-200"
             data-page="projects">R√©alisations</a>
          <a href="contact.html" 
             class="nav-link nav-contact text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-200"
             data-page="contact">Contact</a>
        </div>
      </div>
      
      <!-- CTA Button -->
      <div class="hidden lg:block">
        <a href="contact.html" class="cta-button bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 xl:px-6 xl:py-2 rounded-lg text-sm font-medium hover:bg-primary-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl">
          D√©marrer un projet
        </a>
      </div>
      
      <!-- Mobile menu button -->
      <div class="lg:hidden">
        <button type="button" class="mobile-menu-btn bg-gradient-to-r from-blue-600 to-purple-600 inline-flex items-center justify-center p-2 rounded-md text-white hover:text-white hover:bg-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 transition-colors" aria-controls="mobile-menu" aria-expanded="false">
          <span class="sr-only">Ouvrir le menu principal</span>
          <!-- Hamburger icon -->
          <svg class="hamburger-icon block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
          <!-- Close icon -->
          <svg class="close-icon hidden h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Mobile Navigation Menu -->
  <div class="lg:hidden mobile-menu hidden">
    <!-- Overlay pour fermer le menu en cliquant √† l'ext√©rieur -->
    <div class="mobile-menu-overlay fixed inset-0 bg-black bg-opacity-50 z-40"></div>
    
    <!-- Menu mobile -->
    <div class="mobile-menu-content fixed top-16 left-0 right-0 bg-white shadow-lg border-t border-gray-200 z-50 transform transition-transform duration-300 ease-in-out">
      <div class="px-4 pt-4 pb-6 space-y-2">
        <a href="index.html" 
           class="mobile-nav-link mobile-nav-home text-gray-600 hover:text-blue-600 hover:bg-gray-50 block px-4 py-3 text-base font-medium transition-colors rounded-lg"
           data-page="home">
           <i class="fas fa-home w-5 mr-3 text-blue-500"></i>
           Accueil
        </a>
        <a href="about.html" 
           class="mobile-nav-link mobile-nav-about text-gray-600 hover:text-blue-600 hover:bg-gray-50 block px-4 py-3 text-base font-medium transition-colors rounded-lg"
           data-page="about">
           <i class="fas fa-info-circle w-5 mr-3 text-blue-500"></i>
           √Ä propos
        </a>
        <a href="services.html" 
           class="mobile-nav-link mobile-nav-services text-gray-600 hover:text-blue-600 hover:bg-gray-50 block px-4 py-3 text-base font-medium transition-colors rounded-lg"
           data-page="services">
           <i class="fas fa-cogs w-5 mr-3 text-blue-500"></i>
           Services
        </a>
        <a href="projects.html" 
           class="mobile-nav-link mobile-nav-projects text-gray-600 hover:text-blue-600 hover:bg-gray-50 block px-4 py-3 text-base font-medium transition-colors rounded-lg"
           data-page="projects">
           <i class="fas fa-briefcase w-5 mr-3 text-blue-500"></i>
           R√©alisations
        </a>
        <a href="contact.html" 
           class="mobile-nav-link mobile-nav-contact text-gray-600 hover:text-blue-600 hover:bg-gray-50 block px-4 py-3 text-base font-medium transition-colors rounded-lg"
           data-page="contact">
           <i class="fas fa-envelope w-5 mr-3 text-blue-500"></i>
           Contact
        </a>
        
        <!-- CTA Button Mobile -->
        <div class="pt-4 border-t border-gray-200 mt-4">
          <a href="contact.html" class="cta-button-mobile bg-primary-600 text-white block px-4 py-3 text-base font-medium rounded-lg hover:bg-primary-700 transition-colors text-center transform hover:scale-105 duration-200 shadow-lg">
            <i class="fas fa-rocket mr-2"></i>
            D√©marrer un projet
          </a>
        </div>
      </div>
    </div>
  </div>
</nav>

<!-- JavaScript pour g√©rer l'√©tat actif de la navigation -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // R√©cup√©rer la page active depuis l'attribut data-active-page du body
    const activePage = document.body.getAttribute('data-active-page');
    
    console.log('üéØ Page active d√©tect√©e:', activePage);
    
    if (activePage) {
        // D√©finir les couleurs par page
        const pageColors = {
            home: { bg: '#3b82f6', bgHover: '#1d4ed8', shadow: 'rgba(59, 130, 246, 0.3)' },
            about: { bg: '#8b5cf6', bgHover: '#7c3aed', shadow: 'rgba(139, 92, 246, 0.3)' },
            services: { bg: '#10b981', bgHover: '#059669', shadow: 'rgba(16, 185, 129, 0.3)' },
            projects: { bg: '#f59e0b', bgHover: '#d97706', shadow: 'rgba(245, 158, 11, 0.3)' },
            contact: { bg: '#ef4444', bgHover: '#dc2626', shadow: 'rgba(239, 68, 68, 0.3)' }
        };
        
        const colors = pageColors[activePage] || pageColors.home;
        
        // Trouver et styliser le lien actif pour le desktop
        const activeNavLink = document.querySelector(`.nav-${activePage}`);
        if (activeNavLink) {
            activeNavLink.style.cssText = `
                background: linear-gradient(135deg, ${colors.bg}, ${colors.bgHover}) !important;
                color: white !important;
                padding: 8px 16px !important;
                border-radius: 8px !important;
                font-weight: 600 !important;
                transform: scale(1.05) !important;
                box-shadow: 0 4px 12px ${colors.shadow} !important;
                transition: all 0.3s ease !important;
                text-decoration: none !important;
                border: 1px solid rgba(255,255,255,0.2) !important;
            `;
            console.log('‚úÖ Style desktop appliqu√© pour:', activePage);
        } else {
            console.warn('‚ùå Lien desktop non trouv√© pour:', activePage);
        }
        
        // Trouver et styliser le lien actif pour le mobile
        const activeMobileNavLink = document.querySelector(`.mobile-nav-${activePage}`);
        if (activeMobileNavLink) {
            activeMobileNavLink.style.cssText = `
                background: linear-gradient(135deg, ${colors.bg}, ${colors.bgHover}) !important;
                color: white !important;
                padding: 12px 16px !important;
                border-radius: 8px !important;
                font-weight: 600 !important;
                box-shadow: 0 4px 12px ${colors.shadow} !important;
                border-left: 4px solid ${colors.bgHover} !important;
                margin: 4px 0 !important;
                text-decoration: none !important;
                transform: translateX(8px) !important;
            `;
            
            // Styliser l'ic√¥ne du mobile
            const icon = activeMobileNavLink.querySelector('i');
            if (icon) {
                icon.style.cssText = 'color: white !important;';
            }
            
            console.log('‚úÖ Style mobile appliqu√© pour:', activePage);
        } else {
            console.warn('‚ùå Lien mobile non trouv√© pour:', activePage);
        }
    }
});
</script>

<!-- CSS pour les styles de base et animations -->
<style>
/* Styles de base pour la navigation */
.nav-link {
    transition: all 0.3s ease !important;
    display: inline-block;
}

.nav-link:hover:not([style*="background"]) {
    color: #3b82f6 !important;
    transform: translateY(-1px) !important;
}

.mobile-nav-link {
    transition: all 0.3s ease !important;
    display: block;
}

.mobile-nav-link:hover:not([style*="background"]) {
    color: #3b82f6 !important;
    background-color: #f3f4f6 !important;
}

/* Animation pour le bouton mobile */
.mobile-menu-btn {
    transition: all 0.2s ease !important;
}

.mobile-menu-btn:hover {
    transform: scale(1.05) !important;
}

/* Menu mobile slide animation */
.mobile-menu {
    transition: all 0.3s ease-in-out !important;
}

.mobile-menu.hidden .mobile-menu-content {
    transform: translateY(-100%) !important;
    opacity: 0 !important;
}

.mobile-menu:not(.hidden) .mobile-menu-content {
    transform: translateY(0) !important;
    opacity: 1 !important;
}

/* Overlay animation */
.mobile-menu-overlay {
    opacity: 0;
    transition: opacity 0.3s ease !important;
}

.mobile-menu:not(.hidden) .mobile-menu-overlay {
    opacity: 1;
}

/* Animation des ic√¥nes hamburger */
.hamburger-icon, .close-icon {
    transition: all 0.2s ease !important;
}

/* Animation hover sur le CTA */
.cta-button {
    transition: all 0.3s ease !important;
}

.cta-button:hover {
    transform: scale(1.05) !important;
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4) !important;
}

/* Responsive adjustments */
@media (max-width: 1024px) {
    .mobile-menu-content {
        transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out !important;
    }
}
</style>
